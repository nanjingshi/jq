<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/public.css"/>
		<link rel="stylesheet" type="text/css" href="../css/new_file.css"/>
		<style type="text/css">
			#s-main{position: relative;}
			.s_box{width:400px;height:300px;position: absolute;left: 50px;top: 100px;}
			.s_box img{width: 400px;height: 300px;}
			.s_box span{position: absolute;left: 0;top: 0;width: 133px;height: 100px;background: rgba(200,200,200,0.6);display: none;}
			.s_box p{position: absolute;left: 0;top: 0;right: 0;bottom: 0;margin: 0;}
			
			.b_box{width: 400px;height: 300px;position: absolute;left: 500px;top: 100px;overflow: hidden;display: none;}
			.b_box img{position: absolute;width: 1200px;height: 900px;}
		</style>
			

	</head>
	<body>
		<section id="toptop">
			<div id="top" class="m">
				<div class="top-l">
					<ul>
						<li><img src="../img/未标题-6.png"/><a href="">收藏本页</a></li>
						<li><img src="../img/未标题-7.png"/><a href="">手机版</a></li>
						<li><img src="../img/未标题-8.png"/><a href="">二维码</a></li>
						<li><img src="../img/未标题-9.png"/><a href="">购物车</a></li>
						
					</ul>
				</div>
				<div class="top-r">
					<img src="../img/ico-user.png">
					<a href="">会员登录</a>
					|
					<a href="">免费注册</a>
					|
					<a href="">忘记密码</a>
				</div>
			</div>
		</section>
		
		<header class="m">
			<div class="logo">
				<a href=""><img src="../img/102751881.jpg"/></a>
			</div>
			
			<form>
				<img src="../img/未标题-10.png"/>
				<input type="text" value="请输入关键词"  id="gjc"/>
				<select>
                    	<option><a href="">供应</a></option>
                        <option><a href="">展会</a></option>
                        <option><a href="">公司</a></option>
                        <option><a href="">招商</a></option>
                </select>

				<input type="submit" value="搜索" id="btn"/>
			</form>
			
			<strong>推广</strong>
			<strong>热搜：</strong>
			<span >
				<a href="">磁力钻</a>&nbsp; 
				<a href="">标志</a>&nbsp; 
			</span>
		</header>
		
		<section id="nav" class="m">
			<ul>
				<li><a href="index.html">类目</a></li>
				<li><a href="">供应</a></li>
				<li><a href="">求购</a></li>
				<li><a href="">公司</a></li>
				<li><a href="">行情</a></li>
				<li><a href="">展会</a></li>
				<li><a href="">咨询</a></li>
				<li><a href="">招商</a></li>
				<li><a href="">品牌</a></li>
				<li><a href="">人才</a></li>
				<li><a href="">知道</a></li>
				<li><a href="">图库</a></li>
				<li><a href="">商圈</a></li>
			</ul>
		</section>
		
		<section id="s-title1" class="m">
			<img src="../img/未标题-11.png"/>
			<a href="">首页</a>
			<img src="../img/未标题-12.png"/>
			<a href="">哈哈</a>
			<img src="../img/未标题-12.png"/>
			<a href="">哈哈哈</a>
			
		</section>
		
		<section id="s-title2" class="m">
			纳吉尼是
		</section>
		
		<section id="s-main" class="m">
			<div class="l">
						<div class="s_box">
			<img src="../img/优质铝杆笔.jpg"/>
			<span></span>
			<p></p>
		</div>
		<div class="b_box">
			<img src="../img/优质铝杆笔.jpg"/>
		</div>

			</div>
			<div class="r">
				<ul>
					<li>名称：<span>优质铝杆笔</span></li>
					<li>单价：<span>30.00</span></li>
					<li>发货地：<span>南京</span></li>
				</ul>
				<img src="../img/未标题-13.png"/>				
			</div>
		</section>
		
		<section id="s-main2" class="m">
			
		</section>
		
		<section id="s-title3" class="m">
			本企业其他产品	
		</section>
		
		<section id="s-main3" class="m">
			<ul>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
				<li><img src="../img/未标题-14.png"/><p>南京市纳净石</p></li>
			</ul>
		</section>

		<footer class="m">
					<a href="" class="footer-f">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					|
					<a href="">哈哈哈哈</a>
					
		</footer>
		
		<section id="bot" class="m">
			<img src="../img/未标题-5.png"/>
			<img src="../img/未标题-5.png"/>
			<img src="../img/未标题-5.png"/>
			<img src="../img/未标题-5.png"/>
			<img src="../img/未标题-5.png"/>
		</section>
	</body>
	
	<script type="text/javascript">
//		1.封装函数,以及解除函数嵌套
//		2.创建构造函数
//		3.处理所有的变量和函数
//		4.调整this问题,解决bug
		
//		OOA
//		OOD
//		OOP
		
		function Magnifier(){
			this.oSbox = document.querySelector(".s_box");
			this.oPbox = this.oSbox.children[1];
			this.oBbox = document.querySelector(".b_box");
			this.oBimg = this.oBbox.children[0];
			
			this.addEvent()
		}
		Magnifier.prototype.addEvent = function(){
			var that = this;
			this.oSbox.addEventListener("mouseover",function(){
//				console.log(that)
				that.over()
			})
			this.oSbox.addEventListener("mousemove",function(eve){
				var e = eve || window.event;
				that.move(e)
			})
			this.oSbox.addEventListener("mouseout",function(){
				that.out()
			})
		}
		Magnifier.prototype.over = function(){
			this.oPbox.style.display = "block";
			this.oBbox.style.display = "block";
		}
		Magnifier.prototype.move = function(e){
			var l = e.offsetX - this.oPbox.offsetWidth/2
			var t = e.offsetY - this.oPbox.offsetHeight/2
			if(l<0) l=0;
			if(t<0) t=0;
			if(l>this.oSbox.offsetWidth-this.oPbox.offsetWidth){
				l = this.oSbox.offsetWidth-this.oPbox.offsetWidth
			}
			if(t>this.oSbox.offsetHeight-this.oPbox.offsetHeight){
				t = this.oSbox.offsetHeight-this.oPbox.offsetHeight
			}
			this.oPbox.style.left = l + "px";
			this.oPbox.style.top = t + "px";
			
			var x = l / (this.oSbox.offsetWidth-this.oPbox.offsetWidth);
			var y = t / (this.oSbox.offsetHeight-this.oPbox.offsetHeight);
			
			this.oBimg.style.left = -(this.oBimg.offsetWidth - this.oBbox.offsetWidth) * x + "px";
			this.oBimg.style.top = -(this.oBimg.offsetHeight - this.oBbox.offsetHeight) * y + "px";
		}
		Magnifier.prototype.out = function(){
			this.oPbox.style.display = "none"
			this.oBbox.style.display = "none"
		}
		
		
		new Magnifier();
		
	</script>

</html>
